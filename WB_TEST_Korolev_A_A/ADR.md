# Управление транзакциями в системе Billing

## Функциональные требования

[Интерфейс взаимодействия с транзакциями](https://example.com/issue/5678)

## Проблема
В настоящее время отсутствует эффективный механизм сохранения транзакций в локальной базе данных BillingService при взаимодействии с сервисом Balance. Требуется определить оптимальный метод сохранения транзакций, учитывая различные сценарии обращения к сервису Balance.

## Решение
Предложены три варианта для сохранения транзакций в локальной базе данных BillingService:

### Вариант 1
1. Сервис Balance возвращает 1000+ последних транзакций.

#### Архитектура
* [Диаграмма последовательности (Sequence diagram)](#диаграмма-последовательности-вариант-1)
* [C4-модель: Уровень C1 (Системы)](#c4-модель-уровень-c1-системы-вариант-1)
* [C4-модель: Уровень C2 (Контейнеры)](#c4-модель-уровень-c2-контейнеры-вариант-1)

#### Диаграмма последовательности (Sequence diagram)
![Диаграмма последовательности (Вариант 1)](./img/v1.png)

#### C4-модель: Уровень C1 (Системы)
![C4-модель: Уровень C1 (Системы) (Вариант 1)](./img/Context1.png)

#### C4-модель: Уровень C2 (Контейнеры)
![C4-модель: Уровень C2 (Контейнеры) (Вариант 1)](./img/Containers1.png)

### Вариант 2
2. Сервис Balance возвращает 100 (лимит) последних транзакций.

#### Архитектура
* [Диаграмма последовательности (Sequence diagram)](#диаграмма-последовательности-вариант-2)
* [C4-модель: Уровень C1 (Системы)](#c4-модель-уровень-c1-системы-вариант-2)
* [C4-модель: Уровень C2 (Контейнеры)](#c4-модель-уровень-c2-контейнеры-вариант-2)

#### Диаграмма последовательности (Sequence diagram)
![Диаграмма последовательности (Вариант 2)](./img/v2.png)

#### C4-модель: Уровень C1 (Системы)
![C4-модель: Уровень C1 (Системы) (Вариант 2)](./img/Context2.png)

#### C4-модель: Уровень C2 (Контейнеры)
![C4-модель: Уровень C2 (Контейнеры) (Вариант 2)](./img/Containers2.png)

### Вариант 3
3. Бесконечная пагинация.

#### Архитектура
* [Диаграмма последовательности (Sequence diagram)](#диаграмма-последовательности-вариант-3)
* [C4-модель: Уровень C1 (Системы)](#c4-модель-уровень-c1-системы-вариант-3)
* [C4-модель: Уровень C2 (Контейнеры)](#c4-модель-уровень-c2-контейнеры-вариант-3)

#### Диаграмма последовательности (Sequence diagram)
![Диаграмма последовательности (Вариант 3)](./img/v3.png)

#### C4-модель: Уровень C1 (Системы)
![C4-модель: Уровень C1 (Системы) (Вариант 3)](./img/Context3.png)

#### C4-модель: Уровень C2 (Контейнеры)
![C4-модель: Уровень C2 (Контейнеры) (Вариант 3)](./img/Containers3.png)
